{"version":3,"sources":["../../../gmcode/index.js","../../../gmcode/src/gmcode.js","../../../gmcode/src/gmcode.peg.js","NcCode/NcCode.jsx","Draw/threeHelper.js","Draw/Draw.jsx","Dialog/Dialog.jsx","App.jsx","serviceWorker.js","index.js"],"names":["GmCode","require","module","exports","parser","calcCenter","r","x1","y1","x2","y2","center1","x","y","center2","k","Math","sqrt","kV","mX","mY","a","b","c","rotateAngle","cX","cY","xlen","abs","ylen","angle","acos","startAngle","len","calcDeltaAngle","checkCoords","rsinA","rcosA","xRot","cos","sin","xRes","toFixed","yRot","yRes","Number","EPSILON","sx","sy","sz","ex","ey","ez","aClockwise","arcPath","center","cx","cy","deltaAngle","PI","sa","l","d","t","nx","ny","nz","push","z","code","parse","parserObj","path","error","abCoord","now","mode","motion","forEach","obj","Object","keys","indexOf","absolute","coords","oldCoords","match","arc","concat","length","peg$SyntaxError","message","expected","found","location","this","name","Error","captureStackTrace","child","parent","ctor","constructor","prototype","peg$subclass","buildMessage","DESCRIBE_EXPECTATION_FNS","literal","expectation","literalEscape","text","i","escapedParts","parts","Array","classEscape","inverted","any","end","other","description","hex","ch","charCodeAt","toString","toUpperCase","s","replace","j","descriptions","type","sort","slice","join","describeExpected","describeFound","SyntaxError","input","options","peg$result","peg$FAILED","peg$startRuleFunctions","Start","peg$parseStart","peg$startRuleFunction","peg$c0","peg$c1","peg$classExpectation","peg$c5","peg$literalExpectation","peg$c7","peg$c9","peg$c11","peg$c13","peg$c15","peg$c17","peg$c19","peg$c21","peg$c24","peg$c26","peg$c27","peg$c30","peg$c31","peg$c32","peg$c35","peg$c38","peg$c39","n","peg$c42","peg$c44","peg$c45","peg$c46","peg$otherExpectation","peg$c47","peg$c48","peg$c49","peg$currPos","peg$posDetailsCache","line","column","peg$maxFailPos","peg$maxFailExpected","peg$silentFails","startRule","ignoreCase","peg$computePosDetails","pos","p","details","peg$computeLocation","startPos","endPos","startPosDetails","endPosDetails","start","offset","peg$fail","peg$buildStructuredError","s0","s1","s2","s3","s4","s5","peg$parseProgram","test","charAt","programs","results","program","result","axis","assign","peg$c3","peg$parsePrograms","substr","toLowerCase","parseInt","peg$parseMotion","peg$parseWSS","s6","s7","peg$parseNumeric","float","parseFloat","peg$parseFloat","peg$parseCoord","peg$parseAbsoluteOffset","peg$parseMode","peg$parseInteger","res","peg$c36","peg$parseMCode","peg$parseWS","initTestCode","NcCode","props","setCode","useState","split","setLine","value","setValue","lineRef","useRef","useEffect","className","ref","lines","key","renderLines","onChange","evt","v","target","linesLen","onScroll","current","scrollTop","ThreeHelper","width","height","scene","THREE","camera","renderer","setSize","position","set","lookAt","background","mouseLeftDown","mousePosition","object","rotateX","add","controls","OrbitControls","domElement","enablePan","axesHelper","points","color","material","linePoints","geometry","setFromPoints","clone","remove","getObjectByName","cancelAnimationFrame","animateID","animate","requestAnimationFrame","bind","render","grid","canvas","getRendererDom","aspect","updateProjectionMatrix","Draw","mount","setMount","initFlag","setInitFlag","threeHelper","setThreeHelper","mountRef","useCallback","node","init","getBoundingClientRect","coordinate","appendChild","renderThree","clear","window","addEventListener","firstChild","removeChild","changeDom","updateThree","removeEventListener","WebGLRenderingContext","Dialog","open","content","openFlag","setOpen","map","htmlFor","id","onClick","App","gm","toPath","e","console","Boolean","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.dfa886b8.chunk.js","sourcesContent":["const GmCode = require('./src/gmcode.js');\n\nmodule.exports = GmCode;\n","const parser = require('./gmcode.peg.js');\n\nfunction calcCenter([x1, y1], [x2, y2], r) {\n    const center1 = {\n        x: 0,\n        y: 0,\n    };\n    const center2 = {\n        x: 0,\n        y: 0,\n    };\n    const k = (y2 - y1) / (x2 - x1);\n\n    if (k === 0) {\n        center1.x = (x1 + x2) / 2;\n        center2.x = (x1 + x2) / 2;\n        center1.y = y1 + Math.sqrt(r * r - ((x1 - x2) * (x1 - x2)) / 4);\n        center2.y = y2 - Math.sqrt(r * r - ((x1 - x2) * (x1 - x2)) / 4);\n    } else {\n        const kV = -1 / k;\n        const mX = (x1 + x2) / 2;\n        const mY = (y1 + y2) / 2;\n        const a = 1 + kV * kV;\n        const b = -2 * mX - kV * kV * (x1 + x2);\n        // eslint-disable-next-line no-mixed-operators\n        const c = mX * mX + kV * kV * (x1 + x2) * (x1 + x2) / 4 -\n            (r * r - ((mX - x1) * (mX - x1) + (mY - y1) * (mY - y1)));\n\n        center1.x = (-1.0 * b + Math.sqrt(b * b - 4 * a * c)) / (2 * a);\n        center2.x = (-1.0 * b - Math.sqrt(b * b - 4 * a * c)) / (2 * a);\n        center1.y = kV * center1.x - kV * mX + mY;\n        center2.y = kV * center2.x - kV * mX + mY;\n    }\n\n    return [center1, center2];\n}\n\nfunction rotateAngle([x, y], [cX, cY], r) {\n    const xlen = Math.abs(x - cX);\n    const ylen = Math.abs(y - cY);\n    const angle = (r * r + xlen * xlen - ylen * ylen) / (2 * r * xlen);\n\n    if (angle < 1 && angle > -1) {\n        return y - cY > 0 ? Math.acos(angle) : -Math.acos(angle);\n    }\n\n    return 0;\n}\n\nfunction startAngle([x, y], [cX, cY], r) {\n    const xlen = Math.abs(x - cX);\n    const ylen = Math.abs(y - cY);\n    const len = Math.sqrt(xlen * xlen + ylen * ylen);\n    const angle = (r * r + r * r - len * len) / (2 * r * r);\n\n    if (angle < 1 && angle > -1) {\n        return y - cY > 0 ? Math.acos(angle) : -Math.acos(angle);\n    }\n\n    return 0;\n}\n\nfunction calcDeltaAngle([x1, y1], [x2, y2], r) {\n    const xlen = Math.abs(x1 - x2);\n    const ylen = Math.abs(y1 - y2);\n    const len = Math.sqrt(xlen * xlen + ylen * ylen);\n    const angle = (r * r + r * r - len * len) / (2 * r * r);\n\n    return Math.acos(angle);\n}\n\nfunction checkCoords([x1, y1], [x2, y2], {\n    x,\n    y,\n}, a) {    \n    const rsinA = (y2 - y);\n    const rcosA = (x2 - x);\n    const xRot = rcosA * Math.cos(a) - rsinA * Math.sin(a);\n    const xRes = +x.toFixed(4) + (+xRot.toFixed(4));\n    const yRot = rsinA * Math.cos(a) + rcosA * Math.sin(a);\n    const yRes = +y.toFixed(4) + (+yRot.toFixed(4));\n    \n    return Math.abs(xRes - x1) < Number.EPSILON  && Math.abs(yRes - y1) < Number.EPSILON ;     \n}\n\nclass GmCode {\n    // eslint-disable-next-line class-methods-use-this\n    // when aClockwise is true mean G02\n    arcPath([sx, sy, sz], [ex, ey, ez], r, aClockwise = true) {\n        const arcPath = [];\n        const center = calcCenter([sx, sy], [ex, ey], r);\n        let cx = 0;\n        let cy = 0;\n\n        let deltaAngle = calcDeltaAngle([sx, sy], [ex, ey], r);\n\n        if (sx === ex && sy === ey) {\n            deltaAngle = 0;\n        } else if (r < 0) {\n            deltaAngle = 2 * Math.PI - deltaAngle;\n        }\n\n        if (aClockwise) {\n            if (checkCoords([sx, sy], [ex, ey], center[0], deltaAngle)) {\n                cx = center[0].x;\n                cy = center[0].y;\n            } else {\n                cx = center[1].x;\n                cy = center[1].y;\n            }\n        }\n\n        let sa = startAngle(\n            [cx + Math.abs(r) * Math.cos(Math.PI), cy + Math.abs(r) * Math.sin(Math.PI)],\n            [sx, sy],\n            r\n        );        \n        \n        if(sa === 0){\n            sa = Math.PI;\n        }\n\n        const a = rotateAngle([ex, ey], [cx, cy], r);\n        const l = deltaAngle > 0 ? (ez - sz) * ((Math.PI * 2) / deltaAngle) : (ez - sz);\n\n        for (let d = 0; d <= 50; d += 1) {\n            const t = deltaAngle / 50 * d;\n            const angle = Math.PI - t + sa;\n            const nx = cx + Math.abs(r) * Math.cos(angle);\n            const ny = cy + Math.abs(r) * Math.sin(angle);\n            const nz = sz + ((l * (deltaAngle * d / 50)) / Math.PI / 2);\n            arcPath.push({\n                x: nx,\n                y: ny,\n                z: nz,\n            });\n        }\n\n        return arcPath;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    parser(code) {\n        return parser.parse(code);\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    toPath(parserObj) {\n        let path = [];\n        const error = [];\n\n        let abCoord = {\n            x: 0,\n            y: 0,\n            z: 0,\n        };\n\n        let now = {\n            x: 0,\n            y: 0,\n            z: 0,\n        };\n\n        let mode = 0;\n        let motion = '0';\n\n        if (parserObj) {\n            parserObj.forEach((obj) => {\n                if (Object.keys(obj).indexOf('mode') > -1) {\n                    mode = obj.mode;\n                }\n\n                if (Object.keys(obj).indexOf('motion') > -1) {\n                    motion = obj.motion;\n                }\n\n                if (obj.absolute) {\n                    if (obj.coords) {\n                        const {\n                            x,\n                            y,\n                            z,\n                            r,\n                        } = obj.coords;\n\n                        abCoord = {\n                            x: x ? now.x - +x : abCoord.x,\n                            y: y ? now.y - +y : abCoord.y,\n                            z: z ? now.z - +z : abCoord.z,\n                        };\n                    } else {\n                        error.push({\n                            error: 'no coords with G92',\n                        });\n                    }\n                }\n\n                if (obj.coords) {\n                    const {\n                        x,\n                        y,\n                        z,\n                        r,\n                    } = obj.coords;\n\n                    if (!obj.absolute) {\n                        const oldCoords = {\n                            ...now,\n                        };\n                        // eslint-disable-next-line no-empty\n                        if (mode === 0) {\n                            now = {\n                                x: x ? abCoord.x + +x : now.x,\n                                y: y ? abCoord.y + +y : now.y,\n                                z: z ? abCoord.z + +z : now.z,\n                            };\n                        } else {\n                            now = {\n                                x: x ? now.x + +x : now.x,\n                                y: y ? now.y + +y : now.y,\n                                z: z ? now.z + +z : now.z,\n                            };\n                        }\n\n                        if (motion.match(/2|3/g) && r) {\n                            const arc = this.arcPath(\n                                [oldCoords.x, oldCoords.y, oldCoords.z],\n                                [now.x, now.y, now.z],\n                                +r,\n                            );\n                            path = path.concat(arc);\n                        } else if (motion.match(/0|1/g)) {\n                            path.push({\n                                ...now,\n                            });\n                        }\n                    }\n                }\n            });\n        }\n\n        if (error.length > 0) {\n            return error;\n        }\n\n        return path;\n    }\n}\n\nmodule.exports = GmCode;\n","/*\n * Generated by PEG.js 0.10.0.\n *\n * http://pegjs.org/\n */\n\n\"use strict\";\n\nfunction peg$subclass(child, parent) {\n  function ctor() { this.constructor = child; }\n  ctor.prototype = parent.prototype;\n  child.prototype = new ctor();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  this.message  = message;\n  this.expected = expected;\n  this.found    = found;\n  this.location = location;\n  this.name     = \"SyntaxError\";\n\n  if (typeof Error.captureStackTrace === \"function\") {\n    Error.captureStackTrace(this, peg$SyntaxError);\n  }\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n        literal: function(expectation) {\n          return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n        },\n\n        \"class\": function(expectation) {\n          var escapedParts = \"\",\n              i;\n\n          for (i = 0; i < expectation.parts.length; i++) {\n            escapedParts += expectation.parts[i] instanceof Array\n              ? classEscape(expectation.parts[i][0]) + \"-\" + classEscape(expectation.parts[i][1])\n              : classEscape(expectation.parts[i]);\n          }\n\n          return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts + \"]\";\n        },\n\n        any: function(expectation) {\n          return \"any character\";\n        },\n\n        end: function(expectation) {\n          return \"end of input\";\n        },\n\n        other: function(expectation) {\n          return expectation.description;\n        }\n      };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\"/g,  '\\\\\"')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\\]/g, '\\\\]')\n      .replace(/\\^/g, '\\\\^')\n      .replace(/-/g,  '\\\\-')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = new Array(expected.length),\n        i, j;\n\n    for (i = 0; i < expected.length; i++) {\n      descriptions[i] = describeExpectation(expected[i]);\n    }\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== void 0 ? options : {};\n\n  var peg$FAILED = {},\n\n      peg$startRuleFunctions = { Start: peg$parseStart },\n      peg$startRuleFunction  = peg$parseStart,\n\n      peg$c0 = /^[ \\t\\n]/,\n      peg$c1 = peg$classExpectation([\" \", \"\\t\", \"\\n\"], false, false),\n      peg$c2 = function(p) {return p},\n      peg$c3 = function(programs) {\n              let results = []\n\n              for(let program of programs){\n                  let coords = {}\n                  let result = {}\n\n                  for( let p of program){\n\n                      if(p.axis){\n                          coords[p.axis] = p.pos\n                      } else {\n                          result = Object.assign( {}, result , p)\n                      }           \n\n                  }\n\n                  if(Object.keys(coords).length > 0){\n                          result.coords = coords\n                  }            \n                  \n                  results.push(result)  \n              }        \n\n              return results\n          },\n      peg$c4 = \"g\",\n      peg$c5 = peg$literalExpectation(\"G\", true),\n      peg$c6 = \"00\",\n      peg$c7 = peg$literalExpectation(\"00\", false),\n      peg$c8 = \"01\",\n      peg$c9 = peg$literalExpectation(\"01\", false),\n      peg$c10 = \"02\",\n      peg$c11 = peg$literalExpectation(\"02\", false),\n      peg$c12 = \"03\",\n      peg$c13 = peg$literalExpectation(\"03\", false),\n      peg$c14 = \"0\",\n      peg$c15 = peg$literalExpectation(\"0\", false),\n      peg$c16 = \"1\",\n      peg$c17 = peg$literalExpectation(\"1\", false),\n      peg$c18 = \"2\",\n      peg$c19 = peg$literalExpectation(\"2\", false),\n      peg$c20 = \"3\",\n      peg$c21 = peg$literalExpectation(\"3\", false),\n      peg$c22 = function(code) {\n              return {motion: parseInt(code) + '' }\n          },\n      peg$c23 = \"g92\",\n      peg$c24 = peg$literalExpectation(\"G92\", true),\n      peg$c25 = function() {        \n              return { absolute: true }\n          },\n      peg$c26 = /^[XYZIJKR]/i,\n      peg$c27 = peg$classExpectation([\"X\", \"Y\", \"Z\", \"I\", \"J\", \"K\", \"R\"], false, true),\n      peg$c28 = function(axis, pos) {\n              return { axis: axis.toLowerCase(), pos }\n          },\n      peg$c29 = \"g9\",\n      peg$c30 = peg$literalExpectation(\"G9\", true),\n      peg$c31 = /^[01]/,\n      peg$c32 = peg$classExpectation([\"0\", \"1\"], false, false),\n      peg$c33 = function(mode) {\n              return {mode: +mode}\n          },\n      peg$c34 = \"m\",\n      peg$c35 = peg$literalExpectation(\"M\", true),\n      peg$c36 = function(code) {\n              let res = {}\n\n              if(code < 10){\n                  code = '0' + code\n              }        \n              res['m' + code] = true\n              return res\n          },\n      peg$c37 = \"-\",\n      peg$c38 = peg$literalExpectation(\"-\", false),\n      peg$c39 = function(n) {return n.join('')},\n      peg$c40 = function(integer) {        \n              return parseInt(integer.join(''))\n          },\n      peg$c41 = \".\",\n      peg$c42 = peg$literalExpectation(\".\", false),\n      peg$c43 = function(float) {                        \n              let res = 0;\n              if(float[2]){\n                  res = parseFloat(float.join(''))\n              }else{\n                  res = parseFloat(float.join('')) * 0.001\n              }\n\n              return res + ''\n          },\n      peg$c44 = /^[0-9]/,\n      peg$c45 = peg$classExpectation([[\"0\", \"9\"]], false, false),\n      peg$c46 = peg$otherExpectation(\"Whitespace\"),\n      peg$c47 = /^[ \\t]/,\n      peg$c48 = peg$classExpectation([\" \", \"\\t\"], false, false),\n      peg$c49 = peg$otherExpectation(\"Whitespaces\"),\n      peg$c50 = peg$otherExpectation(\"linebreak\"),\n      peg$c51 = /^[\\r\\n]/,\n      peg$c52 = peg$classExpectation([\"\\r\", \"\\n\"], false, false),\n      peg$c53 = /^(?!)/,\n      peg$c54 = peg$classExpectation([], false, false),\n\n      peg$currPos          = 0,\n      peg$savedPos         = 0,\n      peg$posDetailsCache  = [{ line: 1, column: 1 }],\n      peg$maxFailPos       = 0,\n      peg$maxFailExpected  = [],\n      peg$silentFails      = 0,\n\n      peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos], p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line:   details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n      return details;\n    }\n  }\n\n  function peg$computeLocation(startPos, endPos) {\n    var startPosDetails = peg$computePosDetails(startPos),\n        endPosDetails   = peg$computePosDetails(endPos);\n\n    return {\n      start: {\n        offset: startPos,\n        line:   startPosDetails.line,\n        column: startPosDetails.column\n      },\n      end: {\n        offset: endPos,\n        line:   endPosDetails.line,\n        column: endPosDetails.column\n      }\n    };\n  }\n\n  function peg$fail(expected) {\n    if (peg$currPos < peg$maxFailPos) { return; }\n\n    if (peg$currPos > peg$maxFailPos) {\n      peg$maxFailPos = peg$currPos;\n      peg$maxFailExpected = [];\n    }\n\n    peg$maxFailExpected.push(expected);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$parseStart() {\n    var s0;\n\n    s0 = peg$parsePrograms();\n\n    return s0;\n  }\n\n  function peg$parsePrograms() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$currPos;\n    s3 = [];\n    s4 = peg$parseProgram();\n    if (s4 !== peg$FAILED) {\n      while (s4 !== peg$FAILED) {\n        s3.push(s4);\n        s4 = peg$parseProgram();\n      }\n    } else {\n      s3 = peg$FAILED;\n    }\n    if (s3 !== peg$FAILED) {\n      s4 = [];\n      if (peg$c0.test(input.charAt(peg$currPos))) {\n        s5 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s5 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c1); }\n      }\n      while (s5 !== peg$FAILED) {\n        s4.push(s5);\n        if (peg$c0.test(input.charAt(peg$currPos))) {\n          s5 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s5 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c1); }\n        }\n      }\n      if (s4 !== peg$FAILED) {\n        peg$savedPos = s2;\n        s3 = peg$c2(s3);\n        s2 = s3;\n      } else {\n        peg$currPos = s2;\n        s2 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s2;\n      s2 = peg$FAILED;\n    }\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$currPos;\n        s3 = [];\n        s4 = peg$parseProgram();\n        if (s4 !== peg$FAILED) {\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            s4 = peg$parseProgram();\n          }\n        } else {\n          s3 = peg$FAILED;\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          if (peg$c0.test(input.charAt(peg$currPos))) {\n            s5 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c1); }\n          }\n          while (s5 !== peg$FAILED) {\n            s4.push(s5);\n            if (peg$c0.test(input.charAt(peg$currPos))) {\n              s5 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c1); }\n            }\n          }\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s2;\n            s3 = peg$c2(s3);\n            s2 = s3;\n          } else {\n            peg$currPos = s2;\n            s2 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s2;\n          s2 = peg$FAILED;\n        }\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c3(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseProgram() {\n    var s0;\n\n    s0 = peg$parseMotion();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parseCoord();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parseAbsoluteOffset();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseMode();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseMCode();\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseMotion() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 1).toLowerCase() === peg$c4) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c5); }\n    }\n    if (s1 !== peg$FAILED) {\n      if (input.substr(peg$currPos, 2) === peg$c6) {\n        s2 = peg$c6;\n        peg$currPos += 2;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c7); }\n      }\n      if (s2 === peg$FAILED) {\n        if (input.substr(peg$currPos, 2) === peg$c8) {\n          s2 = peg$c8;\n          peg$currPos += 2;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c9); }\n        }\n        if (s2 === peg$FAILED) {\n          if (input.substr(peg$currPos, 2) === peg$c10) {\n            s2 = peg$c10;\n            peg$currPos += 2;\n          } else {\n            s2 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c11); }\n          }\n          if (s2 === peg$FAILED) {\n            if (input.substr(peg$currPos, 2) === peg$c12) {\n              s2 = peg$c12;\n              peg$currPos += 2;\n            } else {\n              s2 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c13); }\n            }\n            if (s2 === peg$FAILED) {\n              if (input.charCodeAt(peg$currPos) === 48) {\n                s2 = peg$c14;\n                peg$currPos++;\n              } else {\n                s2 = peg$FAILED;\n                if (peg$silentFails === 0) { peg$fail(peg$c15); }\n              }\n              if (s2 === peg$FAILED) {\n                if (input.charCodeAt(peg$currPos) === 49) {\n                  s2 = peg$c16;\n                  peg$currPos++;\n                } else {\n                  s2 = peg$FAILED;\n                  if (peg$silentFails === 0) { peg$fail(peg$c17); }\n                }\n                if (s2 === peg$FAILED) {\n                  if (input.charCodeAt(peg$currPos) === 50) {\n                    s2 = peg$c18;\n                    peg$currPos++;\n                  } else {\n                    s2 = peg$FAILED;\n                    if (peg$silentFails === 0) { peg$fail(peg$c19); }\n                  }\n                  if (s2 === peg$FAILED) {\n                    if (input.charCodeAt(peg$currPos) === 51) {\n                      s2 = peg$c20;\n                      peg$currPos++;\n                    } else {\n                      s2 = peg$FAILED;\n                      if (peg$silentFails === 0) { peg$fail(peg$c21); }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c22(s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseAbsoluteOffset() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 3).toLowerCase() === peg$c23) {\n      s1 = input.substr(peg$currPos, 3);\n      peg$currPos += 3;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c24); }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c25();\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseCoord() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = peg$parseWSS();\n    if (s1 !== peg$FAILED) {\n      if (peg$c26.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c27); }\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseWSS();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parseFloat();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s1 = peg$c28(s2, s4);\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseMode() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 2).toLowerCase() === peg$c29) {\n      s1 = input.substr(peg$currPos, 2);\n      peg$currPos += 2;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c30); }\n    }\n    if (s1 !== peg$FAILED) {\n      if (peg$c31.test(input.charAt(peg$currPos))) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c32); }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c33(s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseMCode() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 1).toLowerCase() === peg$c34) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c35); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parseInteger();\n      if (s3 !== peg$FAILED) {\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parseInteger();\n        }\n      } else {\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c36(s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseInteger() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 45) {\n      s2 = peg$c37;\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c38); }\n    }\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    if (s2 !== peg$FAILED) {\n      s3 = peg$currPos;\n      s4 = [];\n      s5 = peg$parseNumeric();\n      if (s5 !== peg$FAILED) {\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parseNumeric();\n        }\n      } else {\n        s4 = peg$FAILED;\n      }\n      if (s4 !== peg$FAILED) {\n        peg$savedPos = s3;\n        s4 = peg$c39(s4);\n      }\n      s3 = s4;\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c40(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseFloat() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 45) {\n      s2 = peg$c37;\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c38); }\n    }\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    if (s2 !== peg$FAILED) {\n      s3 = peg$currPos;\n      s4 = [];\n      s5 = peg$parseNumeric();\n      while (s5 !== peg$FAILED) {\n        s4.push(s5);\n        s5 = peg$parseNumeric();\n      }\n      if (s4 !== peg$FAILED) {\n        peg$savedPos = s3;\n        s4 = peg$c39(s4);\n      }\n      s3 = s4;\n      if (s3 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s4 = peg$c41;\n          peg$currPos++;\n        } else {\n          s4 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c42); }\n        }\n        if (s4 === peg$FAILED) {\n          s4 = null;\n        }\n        if (s4 !== peg$FAILED) {\n          s5 = peg$currPos;\n          s6 = [];\n          s7 = peg$parseNumeric();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parseNumeric();\n          }\n          if (s6 !== peg$FAILED) {\n            peg$savedPos = s5;\n            s6 = peg$c39(s6);\n          }\n          s5 = s6;\n          if (s5 !== peg$FAILED) {\n            s2 = [s2, s3, s4, s5];\n            s1 = s2;\n          } else {\n            peg$currPos = s1;\n            s1 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c43(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseNumeric() {\n    var s0;\n\n    if (peg$c44.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c45); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseWS() {\n    var s0, s1;\n\n    peg$silentFails++;\n    if (peg$c47.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c48); }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c46); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseWSS() {\n    var s0, s1;\n\n    peg$silentFails++;\n    s0 = [];\n    s1 = peg$parseWS();\n    while (s1 !== peg$FAILED) {\n      s0.push(s1);\n      s1 = peg$parseWS();\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c49); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseLB() {\n    var s0, s1;\n\n    peg$silentFails++;\n    if (peg$c51.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c52); }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c50); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseEOF() {\n    var s0;\n\n    if (peg$c53.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c54); }\n    }\n\n    return s0;\n  }\n\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$fail(peg$endExpectation());\n    }\n\n    throw peg$buildStructuredError(\n      peg$maxFailExpected,\n      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n      peg$maxFailPos < input.length\n        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n    );\n  }\n}\n\nmodule.exports = {\n  SyntaxError: peg$SyntaxError,\n  parse:       peg$parse\n};\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport './index.css'\r\nconst initCode = `G90 G00 X -20. Y -20.\r\nG01 X0 Y0\r\nY35.\r\nX20.\r\nG03 X25. Y60. R65.\r\nG02 X65. R -25.\r\nG03 X70. Y35. R65.\r\nG01 X90.\r\nY0.\r\nX45. Y10.\r\nX0 Y0\r\nX -20. Y -20.\r\nM02`;\r\nconst initTestCode = `G00 X0.Y0.Z0.\r\nG02X-100.Y100.Z15.R115.\r\nG02X0Y100.Z0R55.\r\nG02X100.Y100.Z15.R55.\r\nG02X0Y0Z0R115.\r\nM02`\r\n\r\nfunction NcCode(props) {\r\n    let { setCode } = props\r\n    let [line, setLine] = useState(initTestCode.split(/[\\n\\r]/g).length);\r\n    let [value, setValue] = useState(initTestCode);\r\n    let lineRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        setCode(value)\r\n    })\r\n\r\n    function renderLines() {\r\n        let lines = []\r\n\r\n        for (let i = 1; i <= line; i++) {\r\n            lines.push(<div key={`line-${i}`}>{i}.</div>)\r\n        }\r\n\r\n        return lines\r\n    }\r\n\r\n    function handleScroll(evt) {\r\n        lineRef.current.scrollTop = evt.target.scrollTop;\r\n    }\r\n\r\n    function handleOnChange(evt) {\r\n        let v = evt.target.value\r\n        let lines = value.split(/[\\n\\r]/g)\r\n        let linesLen = lines.length;\r\n\r\n        setLine(linesLen)\r\n        setValue(v)\r\n    }\r\n\r\n    return <section className='nccode center'>\r\n        <div className=\"line-nums code-style\" ref={lineRef}>\r\n            {renderLines()}\r\n        </div>\r\n        <div className=\"cnc-code center\">\r\n            <textarea\r\n                className='code-style resize-none'\r\n                value={value}\r\n                onChange={handleOnChange}\r\n                onScroll={handleScroll} />\r\n        </div>\r\n    </section>\r\n}\r\n\r\nexport default NcCode ","import * as THREE from 'three'\r\nimport {\r\n    OrbitControls\r\n} from 'three/examples/jsm/controls/OrbitControls'\r\n\r\nexport class ThreeHelper {\r\n\r\n    constructor(width, height) {\r\n        this.scene = new THREE.Scene();\r\n        this.camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 3000);\r\n        this.renderer = new THREE.WebGLRenderer();\r\n        this.renderer.setSize(width, height);\r\n        this.camera.position.set(0, 1000, 0);\r\n        this.camera.lookAt(this.scene.position);\r\n        this.scene.background = new THREE.Color(0x000000);\r\n        this.mouseLeftDown = false\r\n        this.mousePosition = []\r\n\r\n        // create object3D \r\n        this.object = new THREE.Object3D();\r\n        this.object.rotateX(-Math.PI / 2);\r\n        this.scene.add(this.object);\r\n\r\n        // add OrbitControls\r\n        this.controls = new OrbitControls(this.camera, this.renderer.domElement);\r\n        this.controls.enablePan = false;\r\n\r\n        // add axesHelper\r\n        this.axesHelper = new THREE.AxesHelper(300);\r\n        this.axesHelper.position.set(0, 0, 5);\r\n        this.object.add(this.axesHelper);\r\n    }\r\n\r\n    line(points = [], color = 0xdddd0d) {\r\n        let material = new THREE.LineBasicMaterial({\r\n            color\r\n        });\r\n        let linePoints = [];\r\n\r\n        for (let i of points) {\r\n            linePoints.push(new THREE.Vector3(i[0], i[1], i[2]))\r\n        }\r\n\r\n        let geometry = new THREE.BufferGeometry().setFromPoints(linePoints);\r\n        let line = new THREE.Line(geometry, material);\r\n\r\n        line.name = \"drawline\";\r\n        this.object.add(line.clone())\r\n    }\r\n\r\n    clear() {\r\n        this.object.remove(this.object.getObjectByName('drawline'))\r\n    }\r\n\r\n    remove() {\r\n        cancelAnimationFrame(this.animateID);\r\n    }\r\n\r\n    animate() {\r\n        let animate = this.animate;\r\n        this.animateID = requestAnimationFrame(animate.bind(this));\r\n        this.renderer.render(this.scene, this.camera);\r\n    }\r\n\r\n    getRendererDom() {\r\n        return this.renderer.domElement;\r\n    }\r\n\r\n    coordinate() {\r\n        let grid = new THREE.GridHelper(1000, 50);\r\n        grid.name = 'coords'\r\n        this.scene.add(grid)\r\n    }\r\n\r\n    setCameraOrigin() {\r\n        this.camera.position.set(0, 0, 1000);\r\n    }\r\n\r\n    changeDom(width, height) {\r\n        this.canvas = this.getRendererDom();\r\n        this.renderer.setSize(width, height);\r\n        this.camera.aspect = width / height;\r\n        this.camera.updateProjectionMatrix();\r\n    }\r\n}\r\n","import React, { useState, useEffect, useCallback } from 'react'\r\nimport './index.css'\r\nimport { ThreeHelper } from './threeHelper.js'\r\n\r\nfunction Draw(props) {    \r\n    let [mount, setMount] = useState(null);\r\n    let [initFlag, setInitFlag] = useState(false);\r\n    let [threeHelper, setThreeHelper] = useState(null);\r\n    let { lines } = props\r\n\r\n    const mountRef = useCallback(node => {\r\n        if (node !== null) {            \r\n            setMount(node)\r\n        }\r\n    });\r\n\r\n    function renderThree(){\r\n\r\n        let height = mount.getBoundingClientRect().height;\r\n        let width = mount.getBoundingClientRect().width;\r\n    \r\n        let threeHelper = new ThreeHelper(width, height);\r\n        threeHelper.coordinate();            \r\n        mount.appendChild(threeHelper.getRendererDom())\r\n        threeHelper.animate();\r\n        setInitFlag(true);\r\n        setThreeHelper(threeHelper); \r\n\r\n    }\r\n\r\n    function updateThree(){\r\n        if(mount && threeHelper){                    \r\n            mount.firstChild && mount.removeChild(mount.firstChild);            \r\n            let {width, height} = mount.getBoundingClientRect();\r\n            threeHelper.changeDom(width, height);\r\n            mount.appendChild(threeHelper.getRendererDom());\r\n        }\r\n    }\r\n\r\n    let init = () => {\r\n        if (mount && !initFlag) {            \r\n            renderThree();                       \r\n        }        \r\n    }\r\n        \r\n    if (lines.length > 0 && threeHelper) {\r\n        threeHelper.clear();        \r\n        threeHelper.line(lines);\r\n    }\r\n\r\n    useEffect(() => {\r\n        init();  \r\n        \r\n        window.addEventListener(\"resize\", ()=>{             \r\n            updateThree();\r\n        });\r\n\r\n        return window.removeEventListener(\"resize\", ()=>{});\r\n    })\r\n\r\n    return <section className='draw relative'>        \r\n        <div            \r\n            className='draw-main relative'          \r\n            ref={mountRef}\r\n        />\r\n        <div className='draw-notice'>\r\n            Notice: This is using WebGL\r\n            <br />\r\n            Support WebGL : {window.WebGLRenderingContext ? 'True' : 'False'}\r\n        </div>\r\n    </section>\r\n}\r\n\r\nexport default Draw ","import React, { useState } from 'react';\nimport './index.css'\n\nfunction Dialog({ open = false , content=``}) {    \n    const [openFlag, setOpen] = useState(open);\n\n    function dialogClose (evt){\n        setOpen(false)\n    }\n\n    return <div className={`dialog ${ openFlag? 'grid' : 'hidden' }`}>\n        <div className=\"content dialog-minwidth dialog-minheight\">\n            {content.split(/[\\r\\n]+/g).map((v, i)=>{\n                return <div key={i}>{v}</div>\n            })}\n        </div>\n        <div className=\"control dialog-minwidth \">\n            <label htmlFor=\"dialog-close\">Close</label>\n            <button id=\"dialog-close\" className=\"hidden\" onClick = {dialogClose}></button>\n        </div>\n    </div>\n}\n\nexport default Dialog;","import React, { useState, useEffect } from 'react';\n// import logo from './logo.svg';\nimport './App.css';\n\nimport NcCode from './NcCode/NcCode.jsx'\nimport Draw from './Draw/Draw.jsx'\nimport Dialog from './Dialog/Dialog.jsx'\nimport GmCode from 'gmcode'\n\nconst dialogCtn = `\n  模擬 GM code 路徑，結尾需有 M02 \n  目前支援以下 code \n  ‧ G00 X Y Z\n  ‧ G01 X Y Z  \n  ‧ G02 Z Y Z R (測試中)\n  ‧ M02\n  ‧ G90 G91  \n`\n\nfunction App() {\n  let [code , setCode] = useState(null);\n\n  let lines = [];\n  let gm = new GmCode();    \n\n      if(code && code.match(/[mM]0?2/)) {    \n          try{\n            let parser = gm.parser(code);            \n            let path = gm.toPath(parser);            \n            if(path.length > 0){\n              for(let p of path){\n                lines.push([p.x, p.y, p.z]);\n              }\n            }\n          }catch (e){\n           console.error(e);\n          }               \n      } \n    \n  \n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n      </header>\n      <main className=\"app-main\">        \n        <div id='draw-nc-code'>\n          <NcCode setCode={setCode}/>         \n        </div>\n        <div id=\"draw-emulator\">\n          <Draw lines={lines}/>\n        </div>\n        <Dialog \n          open={true}\n          content={dialogCtn}></Dialog>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}